{
  "meta": {
    "schema_version": 4,
    "id": "mcdrpost",
    "name": "MCDRpost",
    "version": "3.3.3",
    "link": "https://github.com/xieyuen/MCDR-Plugins/tree/master/src/MCDRpost",
    "authors": [
      "Flyky",
      "xieyuen"
    ],
    "dependencies": {
      "python": ">=3.10",
      "mcdreforged": ">=2.15.0",
      "minecraft_data_api": "*"
    },
    "requirements": [
      "mcdreforged>=2.15.0"
    ],
    "description": {
      "en_us": "A MCDR plugin for post/teleport items",
      "zh_cn": "一个用于邮寄/传送物品的MCDR插件"
    }
  },
  "plugin": {
    "schema_version": 1,
    "id": "mcdrpost",
    "authors": [
      "Flyky",
      "xieyuen"
    ],
    "repository": "https://github.com/xieyuen/MCDR-Plugins",
    "branch": "master",
    "related_path": "src/MCDRpost",
    "labels": [
      "tool"
    ],
    "introduction": {
      "en_us": "A MCDR plugin for post/teleport items\n",
      "zh_cn": "一个用于邮寄/传送物品的MCDR插件\n"
    },
    "introduction_urls": {
      "en_us": "https://raw.githubusercontent.com/MCDReforged/PluginCatalogue/master/plugins/mcdrpost/introduction.md",
      "zh_cn": "https://raw.githubusercontent.com/MCDReforged/PluginCatalogue/master/plugins/mcdrpost/introduction-zh_cn.md"
    }
  },
  "release": {
    "schema_version": 8,
    "id": "mcdrpost",
    "latest_version": "3.3.3",
    "latest_version_index": 0,
    "releases": [
      {
        "url": "https://github.com/xieyuen/MCDR-Plugins/releases/tag/mcdrpost-v3.3.3",
        "name": "MCDRpost v3.3.3",
        "tag_name": "mcdrpost-v3.3.3",
        "created_at": "2025-10-02T16:08:53Z",
        "description": "> [!IMPORTANT]\r\n> 此版本强烈建议更新！除非你没有更新3.3.2\r\n\r\n## ChangeLog\r\n\r\n### Added\r\n\r\n- 提供自定义音效的 API\r\n    - 删除了原本的 play_sound 模块\r\n    - 添加抽象类: AbstractSoundPlayer\r\n    - 添加实现类: NewSoundPlayer 并暴露至 API\r\n    - 添加实现类: OldSoundPlayer 并暴露至 API\r\n    - 添加 property: AbstractVersionHandler.play_sound\r\n- 添加了一些注释和类型注解\r\n\r\n### Changed\r\n\r\n- 新的翻译使用方式\r\n    - 原来的 `tr(Tags.xxx)` 使用方法还是不够方便，换成 `TranslationKeys.xxx.tr()` 就不用再在外面套一层 `tr()` 了\r\n- 修改了部分变量/属性的名称\r\n\r\n### Fixed\r\n\r\n- 修复了 player 命令没有回复的问题\r\n- （**严重**）修复了无法发送/接受物品的 BUG\r\n\r\n### Removed\r\n\r\n- 放弃对 1.9~1.13 的支持，当服务器使用此区间的版本时只使用外界注册的 Handler\r\n",
        "prerelease": false,
        "asset": {
          "id": 299783501,
          "name": "MCDRpost-v3.3.3.mcdr",
          "size": 27098,
          "download_count": 7,
          "created_at": "2025-10-02T16:14:43Z",
          "browser_download_url": "https://github.com/xieyuen/MCDR-Plugins/releases/download/mcdrpost-v3.3.3/MCDRpost-v3.3.3.mcdr",
          "hash_md5": "7343d74054ff9eadfc336d359644506c",
          "hash_sha256": "cb3c497ee0896fdbc82016a121ed0c56d8638efa5e46b3158d89fd2147aa21c2"
        },
        "meta": {
          "schema_version": 4,
          "id": "mcdrpost",
          "name": "MCDRpost",
          "version": "3.3.3",
          "link": "https://github.com/xieyuen/MCDR-Plugins/tree/master/src/MCDRpost",
          "authors": [
            "Flyky",
            "xieyuen"
          ],
          "dependencies": {
            "python": ">=3.10",
            "mcdreforged": ">=2.15.0",
            "minecraft_data_api": "*"
          },
          "requirements": [
            "mcdreforged>=2.15.0"
          ],
          "description": {
            "en_us": "A MCDR plugin for post/teleport items",
            "zh_cn": "一个用于邮寄/传送物品的MCDR插件"
          }
        }
      },
      {
        "url": "https://github.com/xieyuen/MCDR-Plugins/releases/tag/mcdrpost-v3.3.2",
        "name": "MCDRpost v3.3.2",
        "tag_name": "mcdrpost-v3.3.2",
        "created_at": "2025-09-23T11:43:21Z",
        "description": "## News\r\n\r\n### MCDRpost 版本兼容拓展\r\n\r\n文档：[custom_handler.md](https://github.com/xieyuen/MCDR-Plugins/tree/master/src/MCDRpost/custom_handler.md)\r\n\r\n从 MCDRpost 3.3.2 版本开始，用户可以自定义版本处理器以适应自己的特殊服务端。\r\n对此 MCDRpost 提供了一定的 API 供用户使用\r\n\r\n这使得 MCDRpost 拥有更强的兼容性\r\n\r\n## Change Log\r\n\r\n### Added\r\n\r\n- 实现了自定义 Handler\r\n- 新增了 `DefaultVersionHandler` 类\r\n- API\r\n    - 暴露 `DefaultVersionHandler` 类\r\n    - 暴露 `OFFHAND_CODE` 常量\r\n- 新增错误提示，保证用户体验\r\n\r\n### Changed\r\n\r\n- 重构了 `AbstractVersionHandler` 类\r\n    - 删除了 `item2str` 和 `dict2item` 方法\r\n    - 新增了 (abstractmethod) `get_offhand_item` 方法\r\n    - `is_builtin` 不再是 property 而是 classmethod\r\n- 重构了 `BulitinVersionHandler`\r\n    - 新增 `get_offhand_item` 实现\r\n    - 新增 `replace` 实现（仅在 `Since9Handler` 中被覆盖）\r\n    - 新增 (abstractmethod) `item2str` 方法\r\n    - 新增 (abstractmethod) `dict2item` 方法\r\n- 重命名 `before17` 为 `since9`\r\n- 新增 `reload` 子命令，用于重新加载配置文件和订单数据\r\n- 重构 `version_handler` 模块\r\n\r\n### Removed\r\n\r\n- 删除了无意义的 `__all__` 变量\r\n- 删除了 `utils.types` 模块\r\n- 删除了一些没有用的方法/函数\r\n- 删除了 `save` 命令及其权限配置信息\r\n\r\n### Fixed\r\n\r\n- 修复了玩家无法接受物品的问题\r\n- 修复反序列化失败的问题\r\n- 修复在插件加载阶段时如果订单无效翻译出错的问题\r\n- 修复了插件加载时的翻译报错问题\r\n",
        "prerelease": false,
        "asset": {
          "id": 296369233,
          "name": "MCDRpost-v3.3.2.mcdr",
          "size": 24811,
          "download_count": 11,
          "created_at": "2025-09-23T12:00:44Z",
          "browser_download_url": "https://github.com/xieyuen/MCDR-Plugins/releases/download/mcdrpost-v3.3.2/MCDRpost-v3.3.2.mcdr",
          "hash_md5": "c6a9c2af6ff3f452a2c41c36950596de",
          "hash_sha256": "935a19ff82210aa7cfbd3ebe417b254411d2cb6918541eb05cb1567b10c3a2ce"
        },
        "meta": {
          "schema_version": 4,
          "id": "mcdrpost",
          "name": "MCDRpost",
          "version": "3.3.2",
          "link": "https://github.com/xieyuen/MCDR-Plugins/tree/master/src/MCDRpost",
          "authors": [
            "Flyky",
            "xieyuen"
          ],
          "dependencies": {
            "python": ">=3.10",
            "mcdreforged": ">=2.15.0",
            "minecraft_data_api": "*"
          },
          "requirements": [
            "mcdreforged>=2.15.0"
          ],
          "description": {
            "en_us": "A MCDR plugin for post/teleport items",
            "zh_cn": "一个用于邮寄/传送物品的MCDR插件"
          }
        }
      },
      {
        "url": "https://github.com/xieyuen/MCDR-Plugins/releases/tag/mcdrpost-v3.3.1",
        "name": "MCDRpost 3.3.1",
        "tag_name": "mcdrpost-v3.3.1",
        "created_at": "2025-08-27T17:27:48Z",
        "description": "## What's Changed\r\n* 同步MCDRpost开发进度 by @xieyuen in https://github.com/xieyuen/MCDR-Plugins/pull/4\r\n* 删除多余的文件 by @xieyuen in https://github.com/xieyuen/MCDR-Plugins/pull/5\r\n* MCDRpost 3.3.1 by @xieyuen in https://github.com/xieyuen/MCDR-Plugins/pull/6\r\n\r\n\r\n**Full Changelog**: https://github.com/xieyuen/MCDR-Plugins/compare/Scripts...mcdrpost-v3.3.1",
        "prerelease": false,
        "asset": {
          "id": 286837224,
          "name": "MCDRpost-v3.3.1.mcdr",
          "size": 22044,
          "download_count": 20,
          "created_at": "2025-08-27T17:33:29Z",
          "browser_download_url": "https://github.com/xieyuen/MCDR-Plugins/releases/download/mcdrpost-v3.3.1/MCDRpost-v3.3.1.mcdr",
          "hash_md5": "a11abb53d5764ab159046d468b09583c",
          "hash_sha256": "fc901e472fb984398e5f3d066e5027ecc37631f3ddacce7360e10d9a2d3aab3b"
        },
        "meta": {
          "schema_version": 4,
          "id": "mcdrpost",
          "name": "MCDRpost",
          "version": "3.3.1",
          "link": "https://github.com/xieyuen/MCDRpost/",
          "authors": [
            "Flyky",
            "xieyuen"
          ],
          "dependencies": {
            "python": ">=3.11",
            "mcdreforged": ">=2.15.0",
            "minecraft_data_api": "*"
          },
          "requirements": [
            "mcdreforged>=2.10"
          ],
          "description": {
            "en_us": "A MCDR plugin for post/teleport items",
            "zh_cn": "一个用于邮寄/传送物品的MCDR插件"
          }
        }
      },
      {
        "url": "https://github.com/xieyuen/MCDR-Plugins/releases/tag/mcdrpost-v2.1.1",
        "name": "[补档] MCDRpost 2.1.1",
        "tag_name": "mcdrpost-v2.1.1",
        "created_at": "2025-08-25T11:59:28Z",
        "description": "## Changes\r\n修复不能正确导入2.1.0版本的问题（Flyky/MCDRpost#8 ）",
        "prerelease": false,
        "asset": {
          "id": 287583337,
          "name": "MCDRpost-v2.1.1.mcdr",
          "size": 8940,
          "download_count": 15,
          "created_at": "2025-08-29T16:12:00Z",
          "browser_download_url": "https://github.com/xieyuen/MCDR-Plugins/releases/download/mcdrpost-v2.1.1/MCDRpost-v2.1.1.mcdr",
          "hash_md5": "6e3042c510314b5793152281fe7b0a7c",
          "hash_sha256": "af1e4fd72e135a937e9740619a5400fce0281030e1a2829e13fa7385c397a437"
        },
        "meta": {
          "schema_version": 4,
          "id": "mcdrpost",
          "name": "MCDRpost",
          "version": "2.1.1",
          "link": "https://github.com/Flyky/MCDRpost",
          "authors": [
            "Flyky"
          ],
          "dependencies": {
            "mcdreforged": ">=2.0.1",
            "minecraft_data_api": "*"
          },
          "requirements": [
            "mcdreforged>=2.0.1"
          ],
          "description": {
            "en_us": "A MCDR plugin for post/teleport items",
            "zh_cn": "一个用于邮寄/传送物品的MCDR插件"
          }
        }
      }
    ]
  },
  "repository": {
    "url": "https://github.com/xieyuen/MCDR-Plugins",
    "name": "MCDR-Plugins",
    "full_name": "xieyuen/MCDR-Plugins",
    "html_url": "https://github.com/xieyuen/MCDR-Plugins",
    "description": "Some MCDR plugins",
    "archived": false,
    "stargazers_count": 4,
    "watchers_count": 4,
    "forks_count": 1,
    "readme": "# MCDRpost\n\n## 版权信息\n\n- 原作者: [Flyky](https://github.com/Flyky)\n- 原仓库: [MCDRpost](https://github.com/Flyky/MCDRpost)\n- 现维护者/开发者: [xieyuen](https://github.com/xieyuen)\n- LICENSE: [GPL 3.0](https://github.com/xieyuen/MCDR-Plugins/tree/master/src/MCDRpost/../../LICENSE)\n\n## 一些更新信息\n\n> [!WARNING]\n> 1. 插件的 `2.x` 版本已经停止更新，并且不支持 Minecraft 1.20.5 或者更高版本[^1]\n> 2. 插件的 `3.x` 版本与旧版（`2.x`）不兼容，升级新版本建议清空中转站或者手动改变数据结构\n\n*Added on 2025 6th Sept.*: 已经实现了旧版本数据文件的自动升级转换，\n见 [README](<https://github.com/xieyuen/MCDR-Plugins/tree/master/src/MCDRpost/../MCDRpost-migration/README.md>)\n或者 [release](https://github.com/xieyuen/MCDR-Plugins/releases/tag/mcdrpost-migration)\n\n- 如果直接加载新版本，旧版的订单数据不能被加载，但是原来的数据仍然存在，并且会创建一个新的空文件 `orders.json` 来存储订单数据\n\n更新日志见 [CHANGELOG](https://github.com/xieyuen/MCDR-Plugins/tree/master/src/MCDRpost/CHANGELOG.md)\n\n## 介绍\n\n一个用于邮寄/传送物品的MCDR插件\n\n[-> MCDReforged <-](https://github.com/Fallen-Breath/MCDReforged)\n\n![MCDRpost help](https://s1.ax1x.com/2020/04/16/Jk8ysP.png)\n\n## 依赖\n\n- Python >= 3.10\n- MCDReforged >= 2.15.0\n- [Minecraft Data API](https://github.com/MCDReforged/MinecraftDataAPI) 任意版本\n- Minecraft >= 1.13 (如果不使用自定义 Handler)[^2]\n\n> [!IMPORTANT]\n> 我们十分推荐开启服务器的 RCON\n\n## 安装\n\n将在 release 或 catalogue 下载的 `.mcdr` 插件文件放入插件目录下加载即可\n\n> [!NOTE]\n> \n> 在MCDR中，可以直接使用\n> \n> ```\n> !!MCDR plugin install mcdrpost\n> ```\n> \n> 来安装 MCDRpost, 这也是推荐做法\n\n## 功能\n\n**使用该插件可以将副手的物品发送给别的玩家**  \n也可以发送给离线玩家（但该玩家必须曾经进过服务器）  \n*不可以发送给自己哦~*\n\n- 玩家发出物品后，物品(订单)将会存放在【中转站】\n- 需要收件人收取订单才能收到物品，之后【中转站】会删除该订单\n- 还未查收的订单可以取消，物品会从【中转站】退回，并删除订单\n- 每人存放【中转站】的订单数有上限，以防止把邮件寄送作为储存箱等的滥用\n- 如果你要问为啥一定是用副手传送接收呢 ，因为\n  - 用 `give` 传到身上任意栏位，如果身上东西多的话，传回来还要找一下，比较麻烦，还不容易找到传回来的是哪个东西\n  - 如果身上东西满了的话 `give` 是拿不到物品的，防止粗心大意的小天才\n  - 该插件传送和接收前均会检查并提示副手物品，不用担心会直接 replace 掉原本副手的物品\n  - 当然为什么不传送当前主手所持栏位进行传送呢？ ~~因为懒2333~~\n\n## 使用\n\n|                命令                |             缩写              | 说明            |\n| :------------------------------: | :-------------------------: | ------------- |\n|             `!!post`             |           `!!po`            | 显示帮助信息        |\n| `!!post post <player> [comment]` | `!!po p <player> [comment]` | 发送副手物品，可以没有备注 |\n|    `!!post receive <orderid>`    |     `!!po r <orderid>`      | 接收输入单号的物品到副手  |\n|    `!!post cancel <orderid>`     |     `!!po c <orderid>`      | 取消订单，仅限对方未收取时 |\n|        `!!post post_list`        |          `!!po pl`          | 列出发件列表        |\n|        `!!post list post`        |       `!!po ls post`        | 列出发件列表        |\n|      `!!post receive_list`       |          `!!po rl`          | 列出收件列表        |\n|      `!!post list receive`       |      `!!po ls receive`      | 列出收件列表        |\n|      `!!post list players`       |      `!!po ls players`      | 列出已注册玩家名单     |\n|   `!!post player add <player>`   |                             | 注册一个新玩家       |\n| `!!post player remove <player>`  |                             | 删除已经注册的玩家     |\n\n*上面命令中的`r`表示`receive`，`p`表示`post`，`l`表示`list`，`c`表示`cancel`*\n\n*Added in version 3.1.0:* 支持命令的全写，例如`!!po post Flyky full-name-support`\n\n*Added in version 3.1.0:* `list` 子命令新增 `post` `receive`，效果等同于 `!!po pl` 和 `!!po rl`\n\n## 配置\n\nMCDRpost的配置文件（限v3.0.0或以上）在 `config/MCDRpost/config.yml` 中\n但是旧版本（2.1.1或以下）没有配置文件，请自行修改插件中的 `mcdrpost/__init__.py`\n\n**点击快速跳转**\n\n- [2.x](#211-及以下)\n- [3.x](#300-版本或以上)\n\n### 2.1.1 及以下\n\n对于 2.1.1 及以下的版本，**Flyky 并没有提供配置文件**，想要配置需要编辑 `mcdrpost/__init__.py` 才能够修改\n\n在 `mcdrpost/__init__.py` 文件中 Line 13 ~ 17，有以下五行代码\n\n```python\nPrefix = '!!po'\nMaxStorageNum = 5  # 最大存储订单量，设为-1则无限制\nSaveDelay = 1\nOrderJsonDirectory = './config/MCDRpost/'\nOrderJsonFile = OrderJsonDirectory + 'PostOrders.json'\n```\n\n这些属性就是配置，含义见下表\n\n|         属性         |  类型   |                  默认值                  | 描述                        |\n| :----------------: | :---: | :-----------------------------------: | ------------------------- |\n|       Prefix       | `str` |               `'!!po'`                | 插件命令的前缀                   |\n|   MaxStorageNum    | `int` |                  `5`                  | 每个玩家最大存储的订单数量，-1 不限制      |\n|     SaveDelay      | `int` |                  `1`                  | 新增 `SaveDelay` 个订单时保存一次   |\n| OrderJsonDirectory | `str` |        `'./config/MCDRpost/'`         | 订单数据文件储存的文件夹              |\n|   OrderJsonFile    | `str` | `'./config/MCDRpost/PostOrders.json'` | 订单数据文件的名称，应是一个 `.json` 文件 |\n\n> [!NOTE]\n> Line 18 处的 `command_item = -2` 请别动，这是用来自动检测版本的\n\n### 3.0.0 版本或以上\n\n在 3.0.0 版本中, [xieyuen](https://github.com/xieyuen) 对插件进行了模块化重构，\n配置不再是写死在代码中，而是放到了配置文件 `config.yml` 中\n\n下面的 [配置表](#配置表) 是最新版本配置文件的内容\n\n#### 配置表\n\n|         属性         |  Python类型   |         默认值          | 描述                 |\n| :----------------: | :---------: | :------------------: | ------------------ |\n|    allow_alias     |   `bool`    |        `true`        | 是否允许别名             |\n|      auto_fix      |   `bool`    |       `false`        | 是否自动修复订单           |\n|   auto_register    |   `bool`    |        `true`        | 是否自动为新玩家注册         |\n|    max_storage     |    `int`    |         `5`          | 订单最大存储量，设置为 -1 不限制 |\n| receive_tip_delay  |   `float`   |        `3.0`         | 提示延迟               |\n|  command_prefixes  | `list[str]` | `['!!po', '!!post']` | 命令根节点              |\n| command_permission |   `dict`    |          ~           | 见[权限表](#权限表)       |\n\n> [!NOTE]\n> 将 `allow_alias` 设定为 `false` 之后，`command_prefixes` 配置将会作废，锁定为 `!!po`<br>\n> 但是子命令的缩写(如 `!!po ls`)仍然有效\n\n#### 权限表\n\n> [!NOTE]\n> MCDReforged的权限系统支持5种权限: `owner`, `admin`, `helper`, `user`, `guest`,\n> 在设定权限的时候，用 0~4 五个数字代替权限等级，\n> 其中 `0` 表示 `owner`， `1` 表示 `admin`， `2` 表示 `helper`， `3` 表示 `user`， `4` 表示 `guest`\n> \n> > 此部分的官方文档见 https://docs.mcdreforged.com/zh-cn/latest/permission.html#overview\n\n|      属性      | 默认权限 | 描述                     |\n| :----------: | :--: | ---------------------- |\n|     root     |  0   | 根命令的权限                 |\n|     post     |  0   | 发送邮件的权限(同时包括列出发件列表的权限) |\n|   receive    |  0   | 接收邮件的权限(同时包括列出收件列表的权限) |\n|    cancel    |  0   | 取消邮件的权限                |\n| list_orders  |  2   | 获得中转站全部订单信息的权限         |\n| list_players |  2   | 获得全部已注册玩家的权限           |\n|    player    |  3   | `player` 子命令的权限        |\n\n[配置文件 demo](https://gist.github.com/xieyuen/36f3c272d05b59ac6d0fe9e8a690b312)\n\n## 注意信息\n\n- 可能会有部分带有特殊复杂NBT标签的物品无法传送，会提示检测不到可传送的物品，所以尝试一下即可\n- 不开启 RCON 的话，插件可能会有一定的延迟导致发送/接收失败\n\n> [!WARNING]\n> ***切勿传送原版非法堆叠数的物品!!!***<br>\n> 例如使用carpet地毯堆叠的空潜影盒，会导致该物品无法接收\n\n> [!IMPORTANT]\n> 如果您的 Minecraft 服务器要从 1.20.5 以下升级到 1.20.5 版本或以上，请让玩家们清空中转站，\n> 因为订单数据的 nbt 不能自动地转化成新版本的 components，升级之后订单的物品会因为标签结构改变而不能取走\n\n## 一些图片\n\n![po rl](https://s1.ax1x.com/2020/04/16/Jk0WnJ.png)<br>\n![po r](https://s1.ax1x.com/2020/04/16/Jk0fB9.png)<br>\n![po p](https://s1.ax1x.com/2020/04/16/Jk02X4.png)<br>\n\n## API\n\n> [!NOTE]\n> 如果你在使用插件的时候没有遇到什么问题，可以忽略这段内容\n\n点击 [此处](https://github.com/xieyuen/MCDR-Plugins/tree/master/src/MCDRpost/custom_handler.md) 跳转至 MCDRpost 的自定义 Handler 文档\n\n[^1]: Minecraft 1.20.5 用 components 代替了 tag，导致命令不能执行，Minecraft 报错见 Flyky/MCDRpost#10\n[^2]: 理论上使用自定义 Handler 就可以适配任何版本，但是插件**本身没有兼容**低于 1.13 的版本，原因见 [Custom Handler](https://github.com/xieyuen/MCDR-Plugins/tree/master/src/MCDRpost/custom_handler.md)\n",
    "readme_url": "https://raw.githubusercontent.com/xieyuen/MCDR-Plugins/master/src/MCDRpost/README.md",
    "license": {
      "key": "gpl-3.0",
      "name": "GNU General Public License v3.0",
      "spdx_id": "GPL-3.0",
      "url": "https://api.github.com/licenses/gpl-3.0"
    }
  }
}