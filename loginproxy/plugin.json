{
  "schema_version": 1,
  "id": "loginproxy",
  "authors": [
    "zyxkad"
  ],
  "repository": "https://github.com/kmcsr/login_proxy_mcdr",
  "branch": "master",
  "related_path": ".",
  "labels": [
    "management",
    "api"
  ],
  "introduction": {
    "en_us": "\n- English\n- [中文](https://github.com/kmcsr/login_proxy_mcdr/tree/master/README_zh.MD)\n\n# Login Proxy\n\n*If it's useful, please give a star :)*\n\nSimilar project: <https://github.com/kmcsr/go-liter>\n\n## Feature\n\n- Use **reverse proxy** to proxy minecraft server **login package**, *clients will never bypassing the whitelist*\n- The best offline whitelist plugin\n\n## Current supported Minecraft version\n\n`1.8 ~ 1.21.4`\n\n## Dependencies\n\n| ID                                                             | Release Link                                           | Is Optional |\n| -------------------------------------------------------------- | ------------------------------------------------------ | ----------- |\n| [`kpi`](https://github.com/kmcsr/kpi_mcdr)                     | <https://github.com/kmcsr/kpi_mcdr/releases>           | required    |\n| [`packet_parser`](https://github.com/kmcsr/packet_parser_mcdr) | <https://github.com/kmcsr/packet_parser_mcdr/releases> | optional    |\n\n## How to configure it\n\n1. (TODO)\n\n## Config files\n\n#### loginproxy/config.json _(the mainly config file)_\n\n```javascript\n{\n    \"minimum_permission_level\": { // Command permissions\n        \"help\": 0,\n        \"list\": 1,\n        \"query\": 2,\n        \"banned\": 2,\n        \"ban\": 2,\n        \"banip\": 3,\n        \"pardon\": 3,\n        \"pardonip\": 3,\n        \"whitelist\": 2,\n        \"enable\": 3,\n        \"disable\": 3,\n        \"allow\": 3,\n        \"allowip\": 3,\n        \"remove\": 3,\n        \"removeip\": 3,\n    },\n    \"proxy_addr\": { // The address of proxy server, please never make it as same as the minecraft server address\n        \"ip\": \"\", // IPv4 ip for the proxy server, set it `null` to disable ipv4\n        \"port\": 25565, // The port for the IPv4 IP above\n        \"ipv6\": \"::\", // IPv6 ip for the proxy server, set it `null` to disable IPv6\n        \"ipv6_port\": 25565, // The port for the IPv6 IP above\n    },\n    \"enable_whitelist\": false, // enable/disable whitelist\n    \"enable_ip_whitelist\": false, // enable/disable ip whitelist\n    \"whitelist_level\": 3, // Ignore whitelist when player have permission above or equal this\n    \"kick_cmd\": \"kick {name} {reason}\", // Kick command to kick online player out; leave it empty for force disconnect the player\n    \"messages\": {\n        \"banned.name\": \"Your account has been banned\", // Show when player's name has been banned\n        \"banned.ip\": \"Your ip has been banned\", // Show when client's IP has been banned\n        \"whitelist.name\": \"Your account not in the whitelist\", // Show when player's name not in the whitelist\n        \"whitelist.ip\": \"Your ip not in the whitelist\" // Show when client's IP not in the whitelist\n    },\n    \"allow_transfer\": true, // whether or not allow player transfer from another server\n    \"enable_packet_proxy\": false, // whether or not parse network packets. Must install packet_parser first. Required for most plugins that depends on loginproxy\n    \"online_mode\": false, // same as online-mode in vanilla server.properties\n    \"identify_by_online_uuid\": true, // use uuid instead of player name to identify a player (used in blacklist/whitelist)\n    \"uuid_cache_ttl\": 3600 // uuid request cache time in seconds\n}\n```\n\n#### loginproxy/list.json _(blacklist & whitelist file)_\n\n```javascript\n{\n    \"banned\": [], // Banned players\n    \"bannedip\": [], // Banned IPs\n    \"allow\": [], // Whitelist of players\n    \"allowip\": [] // Whitelist of IPs\n}\n```\n",
    "zh_cn": "\n- [English](https://github.com/kmcsr/login_proxy_mcdr/tree/master/README.MD)\n- 中文\n\n# Login Proxy\n\n*如果本插件有用, 请给个star吧 :)*\n\n类似项目: <https://github.com/kmcsr/go-liter>\n\n## 特性\n\n- 使用**反向代理**代理 Minecraft 服务器**登录包**, *不必担心客户端绕开白名单*\n- 最好的离线登录白名单插件\n- 为 MCDR 最高级的白名单 ~~(没有之一)~~\n- 可扩展, 可以监听并自定义玩家登录事件\n- 支持 IP Network\n- 支持解析并自定义 Minecraft 数据流\n\n## 目前支持的 Minecraft 版本\n\n`1.8 ~ 1.21.4`\n\n## 依赖\n\n| ID                                                             | 下载链接                                                   | 是否可选 |\n| -------------------------------------------------------------- | ------------------------------------------------------ | ---- |\n| [`kpi`](https://github.com/kmcsr/kpi_mcdr)                     | <https://github.com/kmcsr/kpi_mcdr/releases>           | 必须   |\n| [`packet_parser`](https://github.com/kmcsr/packet_parser_mcdr) | <https://github.com/kmcsr/packet_parser_mcdr/releases> | 可选   |\n\n## FAQ\n\n- 问: loginproxy会增加玩家延迟吗?\n- 答: 完全没有延迟是**不可能的**. 但loginproxy只会转发数据流, 中间不执行任何格外操作, 所以正常状态下延迟影响**可忽略不计** _(<1ms)_.\n\n- 问: loginproxy的白名单与*原版白名单*兼容吗?\n- 答: loginproxy白名单是基于*minecraft服务端连接协议*实现的, **与原版白名单不冲突**.\n  您**无法**通过原版白名单指令控制本插件, 本插件也**不会影响到原版白名单的工作**.\n  如果您**同时启用**了*本插件白名单*与*原版白名单(或者其他插件/mod的白名单)*, 您必须保证玩家**同时存在每个白名单列表中**才能进行游戏.\n\n- 问: 服务端无法启动怎么办?\n- 答: 请确保minecraft服务端IP或端口与loginproxy端口不重复.\n\n## 如何安装&配置\n\n1. 从 [releases](https://github.com/kmcsr/login_proxy_mcdr/releases/) 下载最新的 .mcdr 文件至插件文件夹\n2. 调整您的minecraft服务器端口 _(在server.properties)_, 使其不与本插件的`proxy_addr`重复 _(如果您使用spigot等第三方服务端, 请确保端口等基本信息与`server.properties`同步)_\n3. 调整您的防火墙配置, 防止外部连接连接您的minecraft服务端 _(或者让您的服务端监听`127.0.0.1`)_\n4. 将服务端的 `online-mode` 设为 `false`. 如果需要, 可以启用本插件配置文件中的 `online_mode` 选项.\n5. 启动 MCDR\n\n## 指令\n\n| 指令格式                                  | 介绍              |\n| ------------------------------------- | --------------- |\n| `!!lp help`                           | 显示帮助信息, `!!lp`同 |\n| `!!lp list`                           | 列出所有的玩家及其IP     |\n| `!!lp query <name>`                   | 查询玩家连接IP        |\n| `!!lp banned`                         | 列出黑名单           |\n| `!!lp ban <name>`                     | 禁止玩家连接          |\n| `!!lp banip <ip>`                     | 禁止IP连接          |\n| `!!lp pardon <name>`                  | 允许玩家连接          |\n| `!!lp pardonip <ip>`                  | 允许IP连接          |\n| `!!lp whitelist`                      | 列出白名单和IP白名单     |\n| `!!lp whitelist [enable|disable]`     | 启用/禁用白名单        |\n| `!!lp whitelist [enableip|disableip]` | 启用/禁用IP白名单      |\n| `!!lp allow <name>`                   | 将玩家添加至白名单       |\n| `!!lp allowip <ip>`                   | 将IP添加至IP白名单     |\n| `!!lp remove <name>`                  | 将玩家从白名单中移除      |\n| `!!lp removeip <ip>`                  | 将IP从IP白名单中移除    |\n\n## 配置文件\n\n#### loginproxy/config.json _(主配置文件)_\n\n```javascript\n{\n    \"minimum_permission_level\": { // 指令权限\n        \"help\": 0,\n        \"list\": 1,\n        \"query\": 2,\n        \"banned\": 2,\n        \"ban\": 2,\n        \"banip\": 3,\n        \"pardon\": 3,\n        \"pardonip\": 3,\n        \"whitelist\": 2,\n        \"enable\": 3,\n        \"disable\": 3,\n        \"allow\": 3,\n        \"allowip\": 3,\n        \"remove\": 3,\n        \"removeip\": 3\n    },\n    \"proxy_addr\": { // 代理服务器地址&端口. 请注意不要与 Minecraft 服务端重复! 否则服务端将无法启动\n        \"ip\": \"\", // 代理服务器 IPv4 专用 IP, 设置为 null 禁用 IPv4\n        \"port\": 25565 // IPv4 IP 对应的端口\n        \"ipv6\": \"::\", // 代理服务器 IPv6 专用 IP, 设置为 null 禁用 IPv6\n        \"ipv6_port\": 25565, // IPv6 IP 对应的端口\n    },\n    \"enable_whitelist\": false, // 是否启用白名单\n    \"enable_ip_whitelist\": false, // 是否启用IP白名单\n    \"whitelist_level\": 3, // 当玩家拥有高于或等于此权限时, 忽略白名单\n    \"kick_cmd\": \"kick {name} {reason}\", // 将在线玩家踢出游戏的指令; 留空为强制断开连接 (不推荐)\n    \"messages\": { // 一些提示消息\n        \"banned.name\": \"Your account has been banned\", // 当玩家名被禁止时提示\n        \"banned.ip\": \"Your ip has been banned\", // 当玩家 IP 被禁止时提示\n        \"whitelist.name\": \"Your account is not in the whitelist\", // 当玩家名不在白名单时提示\n        \"whitelist.ip\": \"Your ip is not in the whitelist\" // 当 玩家名/IP 不在白名单时提示\n    },\n    \"allow_transfer\": true, // 是否允许客户端转移到此服务器.\n    \"enable_packet_proxy\": false, // 是否解析数据包. 必须先安装 packet_parser. 需要为大部分依赖于 LoginProxy 的插件启用.\n    \"online_mode\": false, // 是否为在线模式\n    \"identify_by_online_uuid\": true, // 使用 uuid 而非用户名判断玩家身份 (在黑白名单中使用)\n    \"uuid_cache_ttl\": 3600 // uuid 查询缓存时间 (秒)\n}\n```\n\n#### loginproxy/list.json _(玩家白名单&黑名单列表)_\n\n```javascript\n{\n    \"banned\": [], // 被禁止的玩家名\n    \"bannedip\": [], // 被禁止的IP\n    \"allow\": [], // 玩家名白名单\n    \"allowip\": [] // IP白名单\n}\n```\n"
  },
  "introduction_urls": {
    "en_us": "https://raw.githubusercontent.com/kmcsr/login_proxy_mcdr/master/README.MD",
    "zh_cn": "https://raw.githubusercontent.com/kmcsr/login_proxy_mcdr/master/README_zh.MD"
  }
}